//------------------------------------------------------------------------------------
// Main_TP4
//------------------------------------------------------------------------------------
//
// AUTH: FJ
// DATE: 03-03-2009
// DATE MODIF: 2/12/2016
// Target: C8051F02x
//
// Tool chain: KEIL PK51
//
//------------------------------------------------------------------------------------
// Includes
//------------------------------------------------------------------------------------
#include <c8051f020.h>                    // SFR declarations
#include <c8051f020_sfr16.h>  
#include <stdio.h>
#include <stdlib.h>
#include <Lib_TP4.h>

//------------------------------------------------------------------------------------
// Global CONSTANTS
//------------------------------------------------------------------------------------


#define LED_On 1
#define LED_Off 0

// Eléments présents sur la carte 8051F020
sbit LED = P1^6;         // LED verte: '1' = ON; '0' = OFF
sbit BP = P3^7;          // Bouton Poussoir '1' relaché, '0' pressé

unsigned int resultat_conversion;

//------------------------------------------------------------------------------------
// Function PROTOTYPES
//------------------------------------------------------------------------------------

unsigned int convert(unsigned int value_to_convert);


//------------------------------------------------------------------------------------
// MAIN Routine
//------------------------------------------------------------------------------------

void main (void) {
 

  Init_Device();
	
//	CONFIGTIMER1(); 
//	CONFIGTIMER3(); 
//	CONFIGSERIE0();
//	CONFIGADC0();
//	CONFIGINTADC0();
	
  LED = LED_Off;

   EA = 1;                             // Enable global interrupts

    while (1)
			{  
      }
 }


//------------------------------------------------------------------------------------
unsigned int convert(unsigned int value_to_convert)
{
	  // CODE A AJOUTER
	return value_to_convert;
}

//-----------------------------------------------------------------------------
// Interrupt Service Routines
//-----------------------------------------------------------------------------

//-----------------------------------------------------------------------------
// ADC0_ISR
//-----------------------------------------------------------------------------
//
// ADC0 end-of-conversion ISR 
//
void ISR_ADC0 (void) interrupt 15
{
   // CODE A AJOUTER
}
